{"ast":null,"code":"import axios from 'axios'; // TODO mettre en fichier env\n\nvar API_ENDPOINT = 'http://localhost:3000/';\n\nfunction getAuthorization() {\n  var token = localStorage.getItem('userToken');\n\n  if (token !== null) {\n    return {\n      headers: {\n        'Authorization': \"bearer \" + token\n      }\n    };\n  } else {\n    return null;\n  }\n} // dans ta fonction avant de faire tes call axios tu fais :\n\n\nexport var creer = function creer(newEnchere) {\n  var config = getAuthorization();\n\n  if (config !== null) {\n    var params = {\n      titleE: newEnchere.titleE,\n      imgE: newEnchere.imgE,\n      priceE: newEnchere.priceE,\n      incE: newEnchere.incE,\n      companyE: newEnchere.companyE,\n      infoE: newEnchere.infoE,\n      inPanE: newEnchere.inPanE\n    };\n    return axios.post(API_ENDPOINT + 'encheres/creer', params, config).then(function (res) {\n      console.log('Enregistré!');\n    });\n  } else {\n    // probleme le user token est pas en local storage\n    return null;\n  }\n};\nexport var list = function list(newEnchere) {\n  return axios.get('encheres/listench').then(function (res) {\n    console.log('voici la liste!');\n  });\n};","map":{"version":3,"sources":["D:\\Profiles\\fiamorin\\Desktop\\EBAY\\eBayBack\\eBayFront\\src\\componentsE\\CartE\\EnchereFunctions.js"],"names":["axios","API_ENDPOINT","getAuthorization","token","localStorage","getItem","headers","creer","newEnchere","config","params","titleE","imgE","priceE","incE","companyE","infoE","inPanE","post","then","res","console","log","list","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,IAAMC,YAAY,GAAG,wBAArB;;AAGA,SAASC,gBAAT,GAA2B;AACvB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;;AACA,MAAIF,KAAK,KAAK,IAAd,EAAmB;AACf,WAAO;AACHG,MAAAA,OAAO,EAAE;AAAC,yBAAiB,YAAYH;AAA9B;AADN,KAAP;AAGH,GAJD,MAIO;AACH,WAAO,IAAP;AACH;AACJ,C,CAEG;;;AAGJ,OAAO,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAAAC,UAAU,EAAI;AAE/B,MAAMC,MAAM,GAAGP,gBAAgB,EAA/B;;AAEA,MAAGO,MAAM,KAAK,IAAd,EAAmB;AACf,QAAMC,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAEH,UAAU,CAACG,MADR;AAEXC,MAAAA,IAAI,EAAEJ,UAAU,CAACI,IAFN;AAGXC,MAAAA,MAAM,EAAEL,UAAU,CAACK,MAHR;AAIXC,MAAAA,IAAI,EAAEN,UAAU,CAACM,IAJN;AAKXC,MAAAA,QAAQ,EAAEP,UAAU,CAACO,QALV;AAMXC,MAAAA,KAAK,EAAER,UAAU,CAACQ,KANP;AAOXC,MAAAA,MAAM,EAAGT,UAAU,CAACS;AAPT,KAAf;AASA,WAAOjB,KAAK,CAACkB,IAAN,CAAWjB,YAAY,GAAG,gBAA1B,EAA4CS,MAA5C,EAAoDD,MAApD,EACNU,IADM,CACD,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,KAHM,CAAP;AAIH,GAdD,MAcO;AACH;AACA,WAAO,IAAP;AACH;AAEJ,CAvBM;AAyBP,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAf,UAAU,EAAI;AAC9B,SAAOR,KAAK,CACPwB,GADE,CACE,mBADF,EACuBL,IADvB,CAC4B,UAAAC,GAAG,EAAI;AAClCC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACH,GAHE,CAAP;AAIH,CALM","sourcesContent":["import axios from 'axios'\n// TODO mettre en fichier env\nconst API_ENDPOINT = 'http://localhost:3000/'\n\n\nfunction getAuthorization(){\n    const token = localStorage.getItem('userToken')\n    if (token !== null){\n        return {\n            headers: {'Authorization': \"bearer \" + token}\n        }\n    } else {\n        return null\n    }\n}\n    \n    // dans ta fonction avant de faire tes call axios tu fais :\n    \n\nexport const creer = newEnchere => {\n\n    const config = getAuthorization()\n\n    if(config !== null){\n        const params = {\n            titleE: newEnchere.titleE,\n            imgE: newEnchere.imgE,\n            priceE: newEnchere.priceE,\n            incE: newEnchere.incE,\n            companyE: newEnchere.companyE,\n            infoE: newEnchere.infoE,\n            inPanE : newEnchere.inPanE\n        }\n        return axios.post(API_ENDPOINT + 'encheres/creer', params, config)\n        .then(res => {\n            console.log('Enregistré!')\n        })\n    } else {\n        // probleme le user token est pas en local storage\n        return null\n    } \n    \n}\n\nexport const list = newEnchere => {\n    return axios\n        .get('encheres/listench').then(res => {\n            console.log('voici la liste!')\n        })\n}"]},"metadata":{},"sourceType":"module"}